# leetcode 79



```java
class Solution {
    private int[][] dirs = new int[][]{{0,1},{0,-1},{1,0},{-1,0}};
    public boolean exist(char[][] board, String word) {
        boolean[][] visit = new boolean[board.length][board[0].length];
        for(int row = 0; row < board.length; row++){
            for(int col = 0; col < board[0].length; col++){
                if(board[row][col] == word.charAt(0)){
                    visit[row][col] = true;
                    if(backTrace(board, word, 1, row, col, visit)){
                        return true;
                    }
                }
                visit[row][col] = false;//回溯关键
            }
        }

        return false;
    }

    public boolean backTrace(char[][] board, String word, int index, int row, int col, boolean[][] visit){
        if(index == word.length()){
            return true;
        }
        for(int n = 0; n < 4; n++){
            int i = dirs[n][0] + row;
            int j = dirs[n][1] + col;
            if(i>=0&&i<board.length&&j>=0&&j<board[0].length&&!visit[i][j]){
                if(board[i][j] == word.charAt(index)){
                    visit[i][j] = true;
                    if(backTrace(board, word, index+1, i, j, visit)){
                        return true;
                    }
                }
                visit[i][j] = false;//回溯关键
            }
        }

        return false;
    }
}
```

